#!/usr/bin/env osascript
set theDueDate to the current date

tell application "OmniFocus"
    tell the default document to tell the front document window
	set perspective name to "Projects"
	activate "OmniFocus"
    end tell
    tell front document
		set todayProject to first flattened project whose name is "Today" 
		set todayTask to flattened tasks of todayProject where its completed = false 
		display notification the length of todayTask
		repeat with b from 1 to length of todayTask 
		    set theCurrentTask to item b of todayTask 
		    set the due date of item b to theDueDate
		    -- if (completed of the b) is false then
		    -- end if 
		    -- set the flagged of the theCurrentTask to false
		end repeat
    end tell
end tell

